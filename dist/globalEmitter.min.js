var GlobalEmitter=function(){var n,t="default";return n=function(){var n,o,r,i,a={},e=Array.prototype.slice,f=Array.prototype.shift,u=Array.prototype.unshift,c=function(n,t){for(var o,r=0,i=n.length;i>r;r++){var a=n[r];if(o=t.call(a,a,r),o===!1)break}};return n=function(n,t,o){n[t]||(n[t]=[]),n[t].push(o)},o=function(n,t,o){var r=n[t];r&&(o?c(r,function(n,t){return n===o?(e.call(r,t,1),!1):void 0}):r=[])},r=function(){var n,t=f.apply(arguments),o=f.apply(arguments),r=arguments,i=this;(n=t[o])&&n.length&&c(n,function(n){n.apply(i,r)})},i=function(i){var i=i||t,e={},f={},l={on:function(t,o,r){var i=f[t];n(e,t,o),i&&("last"===r?i.length&&i.pop()():c(i,function(){this()}),i=null)},one:function(n,t,r){o(e,n,t),this.on(n,t,r)},off:function(n,t){o(e,n,t)},emit:function(){u.call(arguments,e);var n,t=this,o=arguments,i=arguments[1],a=f[i];return n=function(){r.apply(t,o)},void 0===a?void(a instanceof Array?a.push(n):(a=f[i]=[],a.push(n))):void n()}};return i?a[i]?a[i]:a[i]=l:l},{create:i,on:function(n,t,o){var r=this.create();r.on(n,t,o)},one:function(n,t,o){var r=this.create();r.one(n,t,o)},off:function(n,t){var o=this.create();o.off(n,t)},emit:function(){var n=this.create();n.emit.apply(this,arguments)}}}()}();